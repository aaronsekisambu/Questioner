var cov_1u1uvduxed=function(){var path="/Users/aaron/Documents/Aaron/Sites/JavaScript Practice/Kigali/Questioner/Server/Controllers/meetupCotroller.js",hash="dfd881774bcc9583deba274826370f96240955bd",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/aaron/Documents/Aaron/Sites/JavaScript Practice/Kigali/Questioner/Server/Controllers/meetupCotroller.js",statementMap:{"0":{start:{line:1,column:20},end:{line:1,column:53}},"1":{start:{line:2,column:17},end:{line:2,column:44}},"2":{start:{line:7,column:24},end:{line:7,column:44}},"3":{start:{line:8,column:23},end:{line:8,column:25}},"4":{start:{line:9,column:8},end:{line:17,column:10}},"5":{start:{line:10,column:56},end:{line:10,column:62}},"6":{start:{line:11,column:12},end:{line:16,column:14}},"7":{start:{line:18,column:8},end:{line:21,column:19}},"8":{start:{line:24,column:24},end:{line:24,column:44}},"9":{start:{line:26,column:8},end:{line:28,column:43}},"10":{start:{line:26,column:22},end:{line:28,column:43}},"11":{start:{line:29,column:8},end:{line:32,column:11}},"12":{start:{line:35,column:24},end:{line:35,column:44}},"13":{start:{line:36,column:23},end:{line:36,column:78}},"14":{start:{line:36,column:43},end:{line:36,column:77}},"15":{start:{line:37,column:8},end:{line:41,column:9}},"16":{start:{line:38,column:8},end:{line:40,column:60}},"17":{start:{line:42,column:8},end:{line:44,column:27}},"18":{start:{line:48,column:24},end:{line:48,column:44}},"19":{start:{line:49,column:31},end:{line:49,column:55}},"20":{start:{line:50,column:24},end:{line:50,column:48}},"21":{start:{line:51,column:8},end:{line:56,column:9}},"22":{start:{line:52,column:12},end:{line:54,column:50}},"23":{start:{line:55,column:12},end:{line:55,column:19}},"24":{start:{line:57,column:23},end:{line:63,column:9}},"25":{start:{line:64,column:8},end:{line:64,column:29}},"26":{start:{line:65,column:8},end:{line:68,column:11}},"27":{start:{line:71,column:24},end:{line:71,column:44}},"28":{start:{line:72,column:23},end:{line:72,column:78}},"29":{start:{line:72,column:43},end:{line:72,column:77}},"30":{start:{line:73,column:8},end:{line:78,column:9}},"31":{start:{line:74,column:12},end:{line:76,column:46}},"32":{start:{line:77,column:12},end:{line:77,column:19}},"33":{start:{line:79,column:31},end:{line:79,column:55}},"34":{start:{line:80,column:24},end:{line:80,column:48}},"35":{start:{line:81,column:8},end:{line:86,column:9}},"36":{start:{line:82,column:12},end:{line:84,column:50}},"37":{start:{line:85,column:12},end:{line:85,column:19}},"38":{start:{line:87,column:8},end:{line:94,column:27}},"39":{start:{line:97,column:24},end:{line:97,column:44}},"40":{start:{line:98,column:23},end:{line:98,column:78}},"41":{start:{line:98,column:43},end:{line:98,column:77}},"42":{start:{line:99,column:8},end:{line:103,column:9}},"43":{start:{line:100,column:12},end:{line:101,column:58}},"44":{start:{line:102,column:12},end:{line:102,column:19}},"45":{start:{line:104,column:22},end:{line:104,column:45}},"46":{start:{line:105,column:8},end:{line:105,column:33}},"47":{start:{line:106,column:8},end:{line:108,column:27}},"48":{start:{line:111,column:22},end:{line:111,column:39}},"49":{start:{line:112,column:29},end:{line:112,column:51}},"50":{start:{line:113,column:24},end:{line:113,column:46}},"51":{start:{line:114,column:8},end:{line:119,column:9}},"52":{start:{line:115,column:12},end:{line:117,column:51}},"53":{start:{line:118,column:12},end:{line:118,column:19}},"54":{start:{line:120,column:22},end:{line:124,column:9}},"55":{start:{line:125,column:8},end:{line:125,column:25}},"56":{start:{line:126,column:8},end:{line:128,column:25}},"57":{start:{line:131,column:0},end:{line:131,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:29},end:{line:22,column:9}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:24},end:{line:9,column:25}},loc:{start:{line:9,column:34},end:{line:17,column:9}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:37},end:{line:33,column:5}},line:23},"3":{name:"(anonymous_3)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:26},end:{line:46,column:5}},line:34},"4":{name:"(anonymous_4)",decl:{start:{line:36,column:36},end:{line:36,column:37}},loc:{start:{line:36,column:43},end:{line:36,column:77}},line:36},"5":{name:"(anonymous_5)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:27},end:{line:69,column:5}},line:47},"6":{name:"(anonymous_6)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:29},end:{line:95,column:5}},line:70},"7":{name:"(anonymous_7)",decl:{start:{line:72,column:36},end:{line:72,column:37}},loc:{start:{line:72,column:43},end:{line:72,column:77}},line:72},"8":{name:"(anonymous_8)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:29},end:{line:109,column:5}},line:96},"9":{name:"(anonymous_9)",decl:{start:{line:98,column:36},end:{line:98,column:37}},loc:{start:{line:98,column:43},end:{line:98,column:77}},line:98},"10":{name:"(anonymous_10)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:24},end:{line:129,column:5}},line:110}},branchMap:{"0":{loc:{start:{line:26,column:8},end:{line:28,column:43}},type:"if",locations:[{start:{line:26,column:8},end:{line:28,column:43}},{start:{line:26,column:8},end:{line:28,column:43}}],line:26},"1":{loc:{start:{line:37,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:41,column:9}},{start:{line:37,column:8},end:{line:41,column:9}}],line:37},"2":{loc:{start:{line:51,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:56,column:9}},{start:{line:51,column:8},end:{line:56,column:9}}],line:51},"3":{loc:{start:{line:73,column:8},end:{line:78,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:78,column:9}},{start:{line:73,column:8},end:{line:78,column:9}}],line:73},"4":{loc:{start:{line:81,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:86,column:9}},{start:{line:81,column:8},end:{line:86,column:9}}],line:81},"5":{loc:{start:{line:99,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:99,column:8},end:{line:103,column:9}},{start:{line:99,column:8},end:{line:103,column:9}}],line:99},"6":{loc:{start:{line:114,column:8},end:{line:119,column:9}},type:"if",locations:[{start:{line:114,column:8},end:{line:119,column:9}},{start:{line:114,column:8},end:{line:119,column:9}}],line:114}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const MeetupModel=(cov_1u1uvduxed.s[0]++,require('../models/meetupModels'));const Validate=(cov_1u1uvduxed.s[1]++,require('../helpers/utils'));class MeetupController{getAllMeetups(req,res){cov_1u1uvduxed.f[0]++;const meetups=(cov_1u1uvduxed.s[2]++,MeetupModel._meetups);const result=(cov_1u1uvduxed.s[3]++,[]);cov_1u1uvduxed.s[4]++;meetups.forEach(meetup=>{cov_1u1uvduxed.f[1]++;const{topic,location,happeningOn,tags}=(cov_1u1uvduxed.s[5]++,meetup);cov_1u1uvduxed.s[6]++;result.push({topic,location,happeningOn,tags});});cov_1u1uvduxed.s[7]++;res.status(200).send({status:200,data:result});}getAllUpcomingMeetups(req,res){cov_1u1uvduxed.f[2]++;const meetups=(cov_1u1uvduxed.s[8]++,MeetupModel._meetups);// const meetup = meetups.find(ele => ele.upcoming === parseInt(req.params.upcoming));
cov_1u1uvduxed.s[9]++;if(!meetups){cov_1u1uvduxed.b[0][0]++;cov_1u1uvduxed.s[10]++;res.status(404).send({status:404,Error:'Currently No meetup'});}else{cov_1u1uvduxed.b[0][1]++;}cov_1u1uvduxed.s[11]++;res.send({status:200,data:meetups});}getAMeetup(req,res){cov_1u1uvduxed.f[3]++;const meetups=(cov_1u1uvduxed.s[12]++,MeetupModel._meetups);const meetup=(cov_1u1uvduxed.s[13]++,meetups.find(ele=>{cov_1u1uvduxed.f[4]++;cov_1u1uvduxed.s[14]++;return ele.id===parseInt(req.params.id);}));cov_1u1uvduxed.s[15]++;if(!meetup){cov_1u1uvduxed.b[1][0]++;cov_1u1uvduxed.s[16]++;return res.status(404).send({status:404,error:'Invalid Meetup or Meetup not created'});}else{cov_1u1uvduxed.b[1][1]++;}cov_1u1uvduxed.s[17]++;return res.send({status:200,data:meetup});}postAMeetup(req,res){cov_1u1uvduxed.f[5]++;const meetups=(cov_1u1uvduxed.s[18]++,MeetupModel._meetups);const validateMeetup=(cov_1u1uvduxed.s[19]++,Validate._validateMeetup);const{error}=(cov_1u1uvduxed.s[20]++,validateMeetup(req.body));cov_1u1uvduxed.s[21]++;if(error){cov_1u1uvduxed.b[2][0]++;cov_1u1uvduxed.s[22]++;res.status(400).send({status:400,error:error.details[0].message});cov_1u1uvduxed.s[23]++;return;}else{cov_1u1uvduxed.b[2][1]++;};const meetup=(cov_1u1uvduxed.s[24]++,{id:meetups.length+1,location:req.body.location,topic:req.body.topic,happeningOn:req.body.happeningOn,tags:req.body.tags});cov_1u1uvduxed.s[25]++;meetups.push(meetup);cov_1u1uvduxed.s[26]++;res.status(200).send({status:200,data:meetup});}updateAMeetup(req,res){cov_1u1uvduxed.f[6]++;const meetups=(cov_1u1uvduxed.s[27]++,MeetupModel._meetups);const meetup=(cov_1u1uvduxed.s[28]++,meetups.find(ele=>{cov_1u1uvduxed.f[7]++;cov_1u1uvduxed.s[29]++;return ele.id===parseInt(req.params.id);}));cov_1u1uvduxed.s[30]++;if(!meetup){cov_1u1uvduxed.b[3][0]++;cov_1u1uvduxed.s[31]++;res.status(404).send({status:404,error:'No meetup selected'});cov_1u1uvduxed.s[32]++;return;}else{cov_1u1uvduxed.b[3][1]++;};const validateMeetup=(cov_1u1uvduxed.s[33]++,Validate._validateMeetup);const{error}=(cov_1u1uvduxed.s[34]++,validateMeetup(req.body));cov_1u1uvduxed.s[35]++;if(error){cov_1u1uvduxed.b[4][0]++;cov_1u1uvduxed.s[36]++;res.status(400).send({status:400,error:error.details[0].message});cov_1u1uvduxed.s[37]++;return;}else{cov_1u1uvduxed.b[4][1]++;};cov_1u1uvduxed.s[38]++;meetup.id=req.body.id,meetup.happeningOn=req.body.happeningOn,meetup.location=req.body.location,meetup.topic=req.body.topic,meetup.tags=req.body.tags,res.send({status:200,data:meetup});}deleteAMeetup(req,res){cov_1u1uvduxed.f[8]++;const meetups=(cov_1u1uvduxed.s[39]++,MeetupModel._meetups);const meetup=(cov_1u1uvduxed.s[40]++,meetups.find(ele=>{cov_1u1uvduxed.f[9]++;cov_1u1uvduxed.s[41]++;return ele.id===parseInt(req.params.id);}));cov_1u1uvduxed.s[42]++;if(!meetup){cov_1u1uvduxed.b[5][0]++;cov_1u1uvduxed.s[43]++;res.status(404).send({status:404,Error:'Nothing to delete'});cov_1u1uvduxed.s[44]++;return;}else{cov_1u1uvduxed.b[5][1]++;};const index=(cov_1u1uvduxed.s[45]++,meetups.indexOf(meetup));cov_1u1uvduxed.s[46]++;meetups.splice(index,1);cov_1u1uvduxed.s[47]++;res.send({status:200,data:meetup});}postARsvp(req,res){cov_1u1uvduxed.f[10]++;const rsvps=(cov_1u1uvduxed.s[48]++,MeetupModel._rsvp);const validateRsvp=(cov_1u1uvduxed.s[49]++,Validate._validateRsvp);const{error}=(cov_1u1uvduxed.s[50]++,validateRsvp(req.body));cov_1u1uvduxed.s[51]++;if(error){cov_1u1uvduxed.b[6][0]++;cov_1u1uvduxed.s[52]++;res.status(400).send({status:400,error:error.details[0].message});cov_1u1uvduxed.s[53]++;return;}else{cov_1u1uvduxed.b[6][1]++;};const rsvp=(cov_1u1uvduxed.s[54]++,{meetup:req.body.meetup,topic:req.body.topic,status:req.body.status});cov_1u1uvduxed.s[55]++;rsvps.push(rsvp);cov_1u1uvduxed.s[56]++;res.send({status:200,data:rsvp});}}cov_1u1uvduxed.s[57]++;module.exports=new MeetupController();